<!DOCTYPE html>
<html>
<head>
    <title>package</title>
    <link rel="stylesheet" href="skin/default/font/iconfont.css">
    <style>input{width:50px;}
    .invaild{
        color:red;
        border:1px solid red;
    }

     .pageNav ul li{
         list-style:none;width:40px;display: inline-block;border:1px solid #ccc;height:40px;line-height: 40px;text-align: center;cursor:pointer;
         -moz-user-select:none;
         -webkit-user-select:none;
     }
    .pageNav ul li.active{
        border:1px solid red;background: red;color:white;
    }
    </style>
</head>
<body>
<h1>package</h1>
<form name="test">
    <input type="text" required value="22" pattern="" />
    <input type="text"  value="" pattern="^(((13[0-9]{1})|(15[0-9]{1})|(18[0-9]{1}))+\d{8})$" />
    <input type="text" required pattern="" />
</form>

<div>
    <div collect="test.name">sss</div>
    <div collect="collect.name">ccc</div>
    <div collect="collect.lang.test">vvv</div>
</div>

<div onclick="submit()">提交</div>

<h3>format-transfrom</h3>

<div >
    <span key="$time yyyy-MM-dd hh:mm:ss | time"></span>
    <div key="data.lang">dd</div>
</div>

<div key="$currency 2 ￥ | currency"></div>
<div key="data.time.test">dd</div>
<div key="data.test">dd</div>

<div id="search"></div>
<div id="page"></div>

<script src="../bower_components/jquery/dist/jquery.min.js"></script>
<script src="../bower_components/layer/build/layer.js"></script>
<script src="../config.js"></script>
<script src="main/main.min.js"></script>
<script>
    var pageData = {
        totalRows:16,
        defaultSize:10,
        pageSize:16
    };
    new page({
        warp:$('#page'),
        data:pageData,
        showNum:5,
        callBack:function(index){
            console.log(index);
        }
    });


function submit(){
//    formCheck.check($('form'));
    var test = {};
    collect.collectData('collect',test)
}

//    dialog.confirm({
////        template:"<div>eeeeee</div>",
//        defaultContent:"rrrrrrrrrr",
//        templateUrl:"./dialog/dialog.html",
//        layer:{
//            comfireCb:function(){
//                alert('comfireCb');
//            },
//            cancel:function(){
//                alert('cancelCb');
//            }
//        }
//    });

//consumerModel.msg({
//    content:'加载中..',
//    time:9000
//});
//consumerModel.loading();
//consumerModel.loadingClose();

    asynLoad.ajax({
        success:function(data, status, requestCode)
        {
            data.data = {
              time:1488525824,
              currency:"22",
                data:{
                    lang:"中文",
                    time:{
                        test:"ceshi"
                    },
                    test:"测试"
                }
            };

//           alert('success---');
            format.binding(data.data);
         },
        data:{"test":'uu',para:'rr'},
        url:'api/bacInfo/mapping/serviceStatus',
        localUrl:'../test-data/topic-list.json'
    });


var data = {
    data:{
        data:[
            {
                data:[
                    {
                        "topicId": "topic13",
                        "topicType": "disorder",
                        "serviceStatus": "inactive",
                        "createTime": "2017-02-17T10:45:05.434+0800"
                    },
                    {
                        "topicId": "333",
                        "topicType": "order",
                        "serviceStatus": "active",
                        "createTime": "2017-02-17T16:19:02.606+0800"
                    },
                    {
                        "topicId": "topic16",
                        "topicType": "disorder",
                        "serviceStatus": "active",
                        "createTime": "2017-02-20T15:12:15.197+0800"
                    },
                    {
                        "topicId": "test",
                        "topicType": "order",
                        "serviceStatus": "inactive",
                        "createTime": "2017-02-20T17:42:13.503+0800"
                    }
                ]
            }
        ]
    }
};

mapping.matchCode('topicType',data,function(data){
//    alert(JSON.stringify(data));
});

new dropDown({
    warp:$('#search'),
    submitParam:'param',
    getListParam:'topicId',
    requireParam:{
        url:'api/bacInfo/mapping/serviceStatus',
        localUrl:'../test-data/topic-list.json',
        loading:false
    }
});


</script>
</body>
</html>